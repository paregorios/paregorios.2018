<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>paregorios.org (Posts about machine tags)</title><link>http://paregorios.org/</link><description></description><atom:link href="http://paregorios.org/categories/machine-tags.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><copyright>Contents © 2018 &lt;a href="mailto:paregorios@hotmail.com"&gt;Tom Elliott&lt;/a&gt; </copyright><lastBuildDate>Fri, 06 Apr 2018 22:06:16 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Get a List of Machine Tags from the Flickr API</title><link>http://paregorios.org/posts/2013/08/get-list-of-machine-tags-from-flickr-api/</link><dc:creator>Tom Elliott</dc:creator><description>&lt;p&gt;I want to know what &lt;a href="http://horothesia.blogspot.com/2011/09/feeds-of-flickr-photos-depicting.html"&gt;Pleiades machine tags&lt;/a&gt; are in use on photos throughout Flickr (&lt;a href="http://code.flickr.net/2011/12/16/pleiades-a-guest-post/"&gt;more background here&lt;/a&gt;). I thought I'd learn how to ask for that information from the &lt;a href="http://www.flickr.com/services/api/"&gt;Flickr API&lt;/a&gt; via a script. I requested and got an API key (see &lt;a href="http://www.flickr.com/help/api/"&gt;http://www.flickr.com/help/api/&lt;/a&gt;). I set up a &lt;a href="https://pypi.python.org/pypi/virtualenv"&gt;Python virtual environment&lt;/a&gt; and &lt;a href="http://git-scm.com/"&gt;git&lt;/a&gt; repository for the project. I went looking for Python code that already implemented interaction with the API and settled (somewhat arbitrarily) on &lt;a href="http://stuvel.eu/flickrapi"&gt;Beej's Python Flickr API kit &lt;/a&gt;(now maintained by Sybren Stüvel). Then used &lt;span style="background-color: #cccccc; font-family: Courier New, Courier, monospace; font-size: x-small;"&gt;&lt;a href="https://pypi.python.org/pypi/pip"&gt;pip&lt;/a&gt; install flickrapi&lt;/span&gt; to get the package.&lt;br&gt;&lt;br&gt;Here's a command-line session running the script and showing its output:&lt;br&gt;&lt;br&gt;&lt;/p&gt;&lt;pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"&gt;&lt;code&gt;(pleiades-flickr)darkstar:pleiades-flickr paregorios$ python src/listptags.py &lt;br&gt;pleiades:atteststo is used on 15 photos in Flickr&lt;br&gt;pleiades:denotes is used on 1 photos in Flickr&lt;br&gt;pleiades:depcits is used on 2 photos in Flickr&lt;br&gt;pleiades:depicts is used on 7229 photos in Flickr&lt;br&gt;pleiades:findspot is used on 2197 photos in Flickr&lt;br&gt;pleiades:finspot is used on 2 photos in Flickr&lt;br&gt;pleiades:foundat is used on 1 photos in Flickr&lt;br&gt;pleiades:observedat is used on 3 photos in Flickr&lt;br&gt;pleiades:origin is used on 225 photos in Flickr&lt;br&gt;pleiades:place is used on 970 photos in Flickr&lt;br&gt;pleiades:places is used on 19 photos in Flickr&lt;br&gt;pleiades:where is used on 119 photos in Flickr&lt;br&gt;(pleiades-flickr)darkstar:pleiades-flickr paregorios$ &lt;br&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br&gt;Here's the code (&lt;a href="https://github.com/paregorios/flickrexp/blob/aff7931b5816d70250841335ba24f9ba8b6fb970/listptags.py"&gt;version at github&lt;/a&gt;):&lt;br&gt;&lt;br&gt;&lt;pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"&gt;&lt;code&gt;#!/usr/bin/env python&lt;br&gt;"""&lt;br&gt;A Flickr tag bot&lt;br&gt;"""&lt;br&gt;&lt;br&gt;import argparse&lt;br&gt;import flickrapi&lt;br&gt;import json&lt;br&gt;import logging as l&lt;br&gt;import os&lt;br&gt;import sys&lt;br&gt;import traceback&lt;br&gt;&lt;br&gt;from myflickr import API_KEY, NAMESPACE_DEFAULT&lt;br&gt;&lt;br&gt;SCRIPT_DESC = "poll machine tags from flickr"&lt;br&gt;&lt;br&gt;def main ():&lt;br&gt;    """ Unleash the bot! """&lt;br&gt;&lt;br&gt;    global args&lt;br&gt;    global l&lt;br&gt;&lt;br&gt;    flickr = flickrapi.FlickrAPI(API_KEY)&lt;br&gt;    resp = flickr.machinetags_getPairs(namespace=args.namespace, format="json")&lt;br&gt;    if resp[:14] == "jsonFlickrApi(":&lt;br&gt;        jstr = resp[14:-1]&lt;br&gt;        j = json.loads(jstr)&lt;br&gt;        ptags = [(p['_content'], p['usage']) for p in j['pairs']['pair']]&lt;br&gt;        for ptag in ptags:&lt;br&gt;            print "%s is used on %s photos in Flickr" % ptag&lt;br&gt;&lt;br&gt;&lt;br&gt;if __name__ == "__main__":&lt;br&gt;    try:&lt;br&gt;        parser = argparse.ArgumentParser(description=SCRIPT_DESC, formatter_class=argparse.ArgumentDefaultsHelpFormatter)&lt;br&gt;        parser.add_argument ("-n", "--namespace", default=NAMESPACE_DEFAULT, help="namespace to use in requesting machine tags")&lt;br&gt;        parser.add_argument ("-v", "--verbose", action="store_true", default=False, help="verbose output")&lt;br&gt;        args = parser.parse_args()&lt;br&gt;        if args.verbose:&lt;br&gt;            l.basicConfig(level=l.DEBUG)&lt;br&gt;        else:&lt;br&gt;            l.basicConfig(level=l.WARNING)&lt;br&gt;        main()&lt;br&gt;        sys.exit(0)&lt;br&gt;    except KeyboardInterrupt, e: # Ctrl-C&lt;br&gt;        raise e&lt;br&gt;    except SystemExit, e: # sys.exit()&lt;br&gt;        raise e&lt;br&gt;    except Exception, e:&lt;br&gt;        print "ERROR, UNEXPECTED EXCEPTION"&lt;br&gt;        print str(e)&lt;br&gt;        traceback.print_exc()&lt;br&gt;        os._exit(1)&lt;br&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br&gt;Comments, questions, and constructive criticism welcomed!&lt;br&gt;&lt;br&gt;</description><category>flickr</category><category>machine tags</category><category>pleiades</category><category>python</category><guid>http://paregorios.org/posts/2013/08/get-list-of-machine-tags-from-flickr-api/</guid><pubDate>Thu, 22 Aug 2013 00:41:00 GMT</pubDate></item><item><title>Pleiades Machine Tags for Blog Posts? Yes!</title><link>http://paregorios.org/posts/2012/10/pleiades-machine-tags-for-blog-posts-yes/</link><dc:creator>Tom Elliott</dc:creator><description>&lt;p&gt;So, a few minutes ago I noticed a new post in my feed reader from a blog I've admired for a while: &lt;a href="http://oppidaimperiiromani.blogspot.com/"&gt;Javier Andreu Pintado's &lt;i&gt;Oppida Imperii Romani&lt;/i&gt;&lt;/a&gt;. I've thought for a long time that I ought to get in touch with him (we don't know each other from Adam as far as I know) and see if we could figure out a more-or-less automated way to get his posts to show up on the associated &lt;a href="http://pleiades.stoa.org/"&gt;Pleiades&lt;/a&gt; pages.&lt;br&gt;&lt;br&gt;Then it hit me:&lt;br&gt;&lt;br&gt;Why can't we just use labels incorporating Pleiades IDs &lt;a href="http://www.flickr.com/photos/tags/pleiades%3A%2A/"&gt;like we've been doing with machine tags on Flickr&lt;/a&gt; and query the &lt;a href="https://developers.google.com/blogger/"&gt;Blogger API&lt;/a&gt; to get the associated posts?&lt;br&gt;&lt;br&gt;Why not indeed. It turns out it just works.&lt;br&gt;&lt;br&gt;To test, I added the string "pleiades:depicts=579885" as a label on my blog post from last December, "&lt;a href="http://horothesia.blogspot.com/2011/12/pleiades-flickr-and-ancient-world-image.html"&gt;Pleiades, Flickr, and the Ancient World Image Bank&lt;/a&gt;" (Since that tag is used in an example in that post. I recognize that the blog post doesn't actually depict that place, which is what that label term ought to mean, but this is just a test).&lt;br&gt;&lt;br&gt;Then I went to the &lt;a href="http://developers.google.com/apis-explorer/#p/blogger/v3/blogger.posts.list"&gt;Google APIs Explorer page for the Blogger "list posts" function&lt;/a&gt; (which I found by googling) and entered by blog's ID and the label string in the appropriate fields.&lt;br&gt;&lt;br&gt;&lt;/p&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://3.bp.blogspot.com/-ZDJEKTh1Rvw/UG3OrA9SzpI/AAAAAAAAAUA/Eolha5XwZmM/s1600/formview.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" height="185" src="http://3.bp.blogspot.com/-ZDJEKTh1Rvw/UG3OrA9SzpI/AAAAAAAAAUA/Eolha5XwZmM/s320/formview.jpg" width="320"&gt;&lt;/a&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;And, in a matter of milliseconds, I got back a JSON representation of my blog post.&lt;br&gt;&lt;br&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://3.bp.blogspot.com/-17F9DHHBHUo/UG3POJCX_mI/AAAAAAAAAUI/jtzURgoP0z4/s1600/jsonview.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" height="185" src="http://3.bp.blogspot.com/-17F9DHHBHUo/UG3POJCX_mI/AAAAAAAAAUI/jtzURgoP0z4/s320/jsonview.jpg" width="320"&gt;&lt;/a&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;So now I'm thinking we might explore the possibility of creating a widget on Pleiades place pages to feature blog posts tagged like this from selected blogs. It appears that, to execute the API queries against Blogger, we have to do them blog-by-blog with known IDs, but that's probably OK anyway so we can curate the process of blog selection and prevent spam.&lt;br&gt;&lt;br&gt;It occurs to me that the &lt;a href="http://pelagios-project.blogspot.com/"&gt;Pelagios&lt;/a&gt; community might be interested in looking at this approach in order to build a gateway service to inject blog posts into the Pelagios network.&lt;br&gt;&lt;br&gt;And while I'm name-checking, I wonder if any Wordpress aficionados out there can come up with a functionally equivalent mechanism.</description><category>blogs</category><category>flickr</category><category>interop</category><category>lawdi</category><category>linkeddata</category><category>machine tags</category><category>pelagios</category><category>pleiades</category><guid>http://paregorios.org/posts/2012/10/pleiades-machine-tags-for-blog-posts-yes/</guid><pubDate>Fri, 05 Oct 2012 00:04:00 GMT</pubDate></item><item><title>Pleiades, Flickr, and the Ancient World Image Bank</title><link>http://paregorios.org/posts/2011/12/pleiades-flickr-and-ancient-world-image/</link><dc:creator>Tom Elliott</dc:creator><description>&lt;p&gt;Many of you are already aware that &lt;a href="http://pleiades.stoa.org/"&gt;Pleiades&lt;/a&gt;, &lt;a href="http://flickr.com/"&gt;Flickr&lt;/a&gt;, and the &lt;a href="http://isaw.nyu.edu/awib/"&gt;Ancient World Image Bank&lt;/a&gt; have joined forces to link together online, open-access imagery and ancient geographical information. This blog post is intended to answer some lingering questions that users and potential contributors have been asking about the process.&lt;br&gt;&lt;br&gt;&lt;b&gt;Other Blog Posts&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href="http://isaw.nyu.edu/about/news/geography-and-imagery"&gt;A general notice of the development on the ISAW News Blog&lt;/a&gt; (by me)&lt;/li&gt;&lt;li&gt;&lt;a href="http://pleiades.stoa.org/Members/sgillies/news-items/eye-on-the-sidebar-related-photos-from-flickr"&gt;An extended discussion of the effects, from the Pleiades perspective&lt;/a&gt; (by Sean Gillies)&lt;/li&gt;&lt;li&gt;&lt;a href="http://code.flickr.com/blog/2011/12/16/pleiades-a-guest-post/"&gt;An extended discussion with developers' how-to on the Flickr Code Blog&lt;/a&gt; (by Sean Gillies), &lt;a href="http://sgillies.net/blog/1103/flickr-support-for-ancient-world-places"&gt;mirrored on Sean's blog&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://horothesia.blogspot.com/2011/09/feeds-of-flickr-photos-depicting.html"&gt;The blog post here at Horothesia that started it all&lt;/a&gt; (by me)&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;b&gt;How to Construct a Pleiades Machine Tag&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;In Flickr, you add the machine tag the same way you add regular tags when editing an individual image or a set or group in the organizer.   The machine tag should use the following syntax:&lt;br&gt;&lt;blockquote class="tr_bq"&gt;pleiades:TERM=#####&lt;/blockquote&gt;where "TERM" is one of the recognized terms (&lt;a href="http://gawd.atlantides.org/terms/"&gt;originally from the Concordia Thesaurus, aka the Graph of Ancient World Data, or GAWD, terms&lt;/a&gt;) listed below and "#####" is the numeric identifier of the Pleiades place you wish to associate with the photo.&lt;br&gt;&lt;br&gt;You can get the identifier by visiting pleiades.stoa.org then searching for and finding the place. Copy the numeric portion of the URL of the place page and paste it into your tag.&lt;br&gt;&lt;br&gt;So, for example, if I wanted to tag a photo that "depicts" ancient Athens (or a portion thereof), I'd visit Pleiades and search for Athens. I'd find this place page: &lt;a href="http://pleiades.stoa.org/places/579885/"&gt;http://pleiades.stoa.org/places/579885/&lt;/a&gt;. So, I'd grab 579885 and construct the following machine tag for use in Flickr:&lt;br&gt;&lt;blockquote class="tr_bq"&gt;pleiades:depicts=579885&lt;/blockquote&gt;&lt;b&gt;Recognized Terms in Pleiades Machine Tags&lt;/b&gt;&lt;br&gt;&lt;br&gt;TERMS for use in Pleiades machine tags should begin with a lowercase letter. The following TERMS are recognized in Pleiades machine tags:&lt;br&gt;&lt;dl&gt;&lt;dt&gt;depicts&lt;/dt&gt;&lt;dd&gt;the photo so tagged can be said to "depict" the referenced ancient place or a significant or exemplary portion thereof&lt;br&gt;(this term is equivalent to CIDOC CRM p62 "depicts")&lt;/dd&gt;&lt;dt&gt;findspot&lt;/dt&gt;&lt;dd&gt;the photo so tagged shows an object that was first found in modern times at the referenced ancient place&lt;br&gt;(this term is particularly useful for items now in museums or elsewhere, especially those no longer at the initial place of finding)&lt;/dd&gt;&lt;dt&gt;origin&lt;/dt&gt;&lt;dd&gt;the photo so tagged shows an object that is believed, with reasonably high certainty, to have been originally located or produced at the referenced ancient place&lt;br&gt;(this can differ from the findspot, as when an inscription or other object was moved in antiquity)&lt;/dd&gt;&lt;dt&gt;observedAt&lt;/dt&gt;&lt;dd&gt;the photo so tagged shows an object that was observed in modern times at the referenced ancient place&lt;br&gt;(the implication being that the place observed is neither the modern findspot nor the presumed original location; I suspect this term will rarely need to be used to link photos with Pleiades place resources)&lt;/dd&gt;&lt;dt&gt;where&lt;/dt&gt;&lt;dd&gt;the photo so tagged is related in some way to the referenced ancient place, but for some unspecified reason no more specific relationship can be asserted&lt;br&gt;(this term should not be used unless none of above terms are deemed to be appropriate)&lt;/dd&gt;&lt;dt&gt;place&lt;/dt&gt;&lt;dd&gt;this term is DEPRECATED; it was originally used in exploring the Pleiades machine tag idea (and is highlighted in my previous blog post). Its semantics are assumed to be equivalent to "where". If at all possible, photos carrying this tag should be updated to use one of the more specific terms above.&lt;/dd&gt;&lt;/dl&gt;&lt;br&gt;Please note that pleiades:place&lt;span style="background-color: yellow;"&gt;s&lt;/span&gt;=##### (i.e., with a plural) is not a recognized machine tag. Its behavior in Flickr or Pleiades is undefined. So is the behavior of any Pleiades machine tag with a misspelling or a term not included in the list above. ("finspot" seems to be a popular typo at present).&lt;br&gt;&lt;br&gt;Any photo tagged with the proper Pleiades machine tag syntax and one of the terms above will be noticed by Pleiades and picked up in the summary counts and links on individual place resource pages. In order for a photo to be considered for the &lt;a href="http://www.flickr.com/groups/pleiades-places/"&gt;Pleiades Places group on Flickr&lt;/a&gt; (and therefore as a "portrait image" for a Pleiades place), the photo must be tagged with a pleiades:depicts tag.&lt;br&gt;&lt;br&gt;&lt;b&gt;How do I Add Pleiades Machine Tags Quickly?&lt;/b&gt;&lt;br&gt;&lt;br&gt;It would be unreasonable of us to ask a prolific photographer with an extensive, well-tagged collection already on Flickr to go through an individually add appropriate machine tags by hand. Fortunately, Flickr provides a mechanism for easy batch editing of tags.&lt;br&gt;&lt;ol&gt;&lt;li&gt;Suppose that you have tagged a large number of your photos with the name of the ancient site (e.g., Halicarnassus)&lt;/li&gt;&lt;li&gt;Visit the following link: &lt;a href="http://www.flickr.com/photos/me/alltags/"&gt;http://www.flickr.com/photos/me/alltags/&lt;/a&gt;; it will give you an alphabetical list of all your tags.&lt;/li&gt;&lt;li&gt;Find the name of the site and click on the corresponding link. You'll see all the photos thus tagged in your photostream.&lt;/li&gt;&lt;li&gt;Find and click on the "Change this tag" link (Really. Skip "Edit these in a batch" link for now).&lt;/li&gt;&lt;li&gt;Insert the cursor after your existing tag string, type a space, then type or paste in the desired Pleiades machine tag (read the fine print on that page for an extended explanation of what's going on).&lt;/li&gt;&lt;li&gt;Click the "save" button. Flickr will go off and add the new tag to all those images at once.&lt;/li&gt;&lt;li&gt;If you'd rather be more selective about which photos you want to add a tag to, you can choose the "Edit these in a batch" link I told you to skip above, then paste the Pleiades machine tag into the tag lists associated with only those images you wish to update.&lt;/li&gt;&lt;/ol&gt;&lt;div&gt;&lt;b&gt;Why Can't We Just Use Geotagging That's Already in the Photos?&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Some photographers have geotagged their photos, either using a GPS-enabled digital camera or some method of post-processing. I was recently asked on twitter why we're putting people to all the trouble above when we could just use the geotagging? There are several reasons:&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;Not everybody's photos are machine-tagged.&lt;/li&gt;&lt;li&gt;Many ancient sites are coincident with urban areas (or areas of natural beauty or places where someone took a picture of their dog) and so mere proximity to an ancient site can't be interpreted as indicating a given photo is relevant to a nearby Pleiades place.&lt;/li&gt;&lt;li&gt;Horizontal precision and accuracy can vary widely in geotagged photos as a function of the geotagging method used and the interests and skill of the person doing the geotagging. As a result, a photo might be geotagged at a location closer to another, unrelated pleiades place.&lt;/li&gt;&lt;li&gt;The horizontal precision and accuracy of Pleiades coordinates also varies widely given the varying sources from which it derives and the subsequent coordinate extraction methods. This makes the process of proximity correlation even more fraught.&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;This is not to say that we're not interested in exploring uses for geotagged photos in Flickr (or supporting a geotag-your-photo-using-Pleiades-coordinates tool), but I hope this discussion helps explain why we like the machine-tag approach for indicating relevance.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Please let me know, via comments here, if you have additional questions or suggestions. &lt;/div&gt;</description><category>awib</category><category>flickr</category><category>gawd</category><category>images</category><category>machine tags</category><category>pleiades</category><category>pleiades:depicts=579885</category><guid>http://paregorios.org/posts/2011/12/pleiades-flickr-and-ancient-world-image/</guid><pubDate>Tue, 20 Dec 2011 21:42:00 GMT</pubDate></item></channel></rss>