<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>paregorios.org (Posts about zotero)</title><link>https://paregorios.org/</link><description></description><atom:link href="https://paregorios.org/categories/zotero.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><copyright>Contents Â© 2018 &lt;a href="mailto:ipse@paregorios.org"&gt;Tom Elliott&lt;/a&gt; 
&lt;a rel="license" href="http://creativecommons.org/licenses/by/4.0/"&gt;&lt;img
alt="Creative Commons License" style="border-width:0"
src="https://i.creativecommons.org/l/by/4.0/80x15.png" /&gt;&lt;/a&gt;
&lt;span xmlns:dct="http://purl.org/dc/terms/"
property="dct:title"&gt;&lt;strong&gt;&lt;em&gt;paregorios.org&lt;/em&gt;&lt;/strong&gt;&lt;/span&gt; by
&lt;a xmlns:cc="http://creativecommons.org/ns#" href="https://paregorios.org/me"
property="cc:attributionName" rel="cc:attributionURL"&gt;Tom Elliott&lt;/a&gt; is
licensed under a &lt;a rel="license"
href="http://creativecommons.org/licenses/by/4.0/"&gt;Creative Commons
Attribution 4.0 International License&lt;/a&gt;.
</copyright><lastBuildDate>Fri, 27 Apr 2018 10:55:13 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>What Zotero Wants From My Blog</title><link>https://paregorios.org/posts/2018/04/what-zotero-wants/</link><dc:creator>Tom Elliott</dc:creator><description>&lt;div&gt;&lt;p&gt;So, I'm on a quest to get my blog to play well with &lt;a href="https://zotero.org"&gt;&lt;em&gt;Zotero&lt;/em&gt;&lt;/a&gt;. Today I come to grips with the translator code that &lt;em&gt;Zotero&lt;/em&gt; uses to create a record from a blog entry.&lt;!-- TEASER_END --&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://paregorios.org/posts/2018/04/blogs-work-zotero/"&gt;In the first report from the field&lt;/a&gt;, I did some comparative metadata investigations to see why some (&lt;a href="https://wordpress.org/"&gt;&lt;em&gt;WordPress&lt;/em&gt;&lt;/a&gt;) blogs worked well with the &lt;em&gt;Zotero&lt;/em&gt; browser plugin, but mine (built with the &lt;a href="https://getnikola.com"&gt;&lt;em&gt;Nikola&lt;/em&gt; static site generator&lt;/a&gt;) didn't. There was nothing super-obvious in the &lt;abbr title="HyperText Markup Language"&gt;HTML&lt;/abbr&gt; metadata, but I was suspicious that the mere fact of being &lt;em&gt;WordPress&lt;/em&gt; or not might have something to do with it.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/zotero/translators"&gt;The &lt;em&gt;Zotero&lt;/em&gt; developer community puts its translator code on &lt;em&gt;GitHub&lt;/em&gt; in a public repository&lt;/a&gt;, so we can look at it directly. There are multiple translators, some keyed to particular domains. The one that's getting used for both my blog and the ones I'm comparing calls itself (in the &lt;em&gt;Zotero&lt;/em&gt; interface) "Embedded Metadata." A bit of filename skimming leads us to &lt;a href="https://github.com/zotero/translators/blob/master/Embedded%20Metadata.js"&gt;a likely JavaScript source file named "Embedded Metadata.js"&lt;/a&gt;. Searching in page for the string "blog," we discover quickly that our guess about &lt;a href="https://github.com/zotero/translators/blob/beb41ffeb07290e8937a0b99d313a868783487ab/Embedded%20Metadata.js#L272"&gt;special handling for &lt;em&gt;WordPress&lt;/em&gt;&lt;/a&gt; is probably right:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span&gt;&lt;/span&gt;      &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;tag&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;toLowerCase&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;'generator'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;lcValue&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;value&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;toLowerCase&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;lcValue&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;indexOf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'blogger'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
          &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nx"&gt;lcValue&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;indexOf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'wordpress'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
          &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nx"&gt;lcValue&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;indexOf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'wooframework'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
        &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
          &lt;span class="nx"&gt;generatorType&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'blogPost'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;I'm not fluent in &lt;a href="https://en.wikipedia.org/wiki/JavaScript"&gt;JavaScript&lt;/a&gt;, but searching around for how &lt;code&gt;generatorType&lt;/code&gt; seems to get used elsewhere (it only appears in this file), it's pretty clear that, in the absence of any other indicia, &lt;em&gt;Zotero&lt;/em&gt; will always interpret an HTML page that claims to have been generated by &lt;em&gt;WordPress&lt;/em&gt; as a blog post:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span&gt;&lt;/span&gt;      &lt;span class="nx"&gt;rdf&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;defaultUnknownType&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;hwType&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nx"&gt;hwTypeGuess&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nx"&gt;generatorType&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; 
        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;nodes&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;length&lt;/span&gt; &lt;span class="o"&gt;?&lt;/span&gt; &lt;span class="s2"&gt;"webpage"&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;Indeed, in &lt;a href="http://ruthtillman.com/blog/"&gt;the WordPress blog we were examining previously (ruthtillman.com)&lt;/a&gt;, posts include a &lt;code&gt;&amp;lt;meta&amp;gt;&lt;/code&gt; element in the HTML header that identifies the creating application:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;meta&lt;/span&gt; &lt;span class="na"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"generator"&lt;/span&gt; &lt;span class="na"&gt;content&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"WordPress 4.9.5"&lt;/span&gt; &lt;span class="p"&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;The &lt;em&gt;Nikola&lt;/em&gt; theme I'm using also writes a generator tag for my blog posts, but as &lt;em&gt;Nikola&lt;/em&gt; can be used to create non-blog sites, it's not appropriate for the &lt;em&gt;Zotero&lt;/em&gt; translator to force the item type in this way.&lt;/p&gt;
&lt;h3&gt;Now what?&lt;/h3&gt;
&lt;p&gt;Well, given that the variable name &lt;code&gt;rdf.defaultUnknownType&lt;/code&gt; contains the word "default," presumably there are other ways in which the &lt;code&gt;itemType&lt;/code&gt; can be determined. In fact, just a few lines down, we find the promising invocation of a JavaScript function named &lt;code&gt;rdf.detectType&lt;/code&gt;:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span&gt;&lt;/span&gt;  &lt;span class="nx"&gt;_itemType&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;nodes&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;length&lt;/span&gt; &lt;span class="o"&gt;?&lt;/span&gt; &lt;span class="nx"&gt;rdf&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;detectType&lt;/span&gt;&lt;span class="p"&gt;({},&lt;/span&gt;&lt;span class="nx"&gt;nodes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],{})&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;rdf&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;defaultUnknownType&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;More searching leads us to another source file in the same repository, &lt;a href="https://github.com/zotero/translators/blob/beb41ffeb07290e8937a0b99d313a868783487ab/RDF.js#L263"&gt;RDF.js. wherein the function &lt;code&gt;detectType&lt;/code&gt; is defined&lt;/a&gt;. &lt;a href="https://github.com/zotero/translators/blob/beb41ffeb07290e8937a0b99d313a868783487ab/RDF.js#L722"&gt;At the very bottom of this function&lt;/a&gt;, we see that the value of an internal variable named &lt;code&gt;itemType&lt;/code&gt; is returned by the function. We need to find out how it gets set to "blogPost". Reading backward from this point, we quickly come across a big assignment:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span&gt;&lt;/span&gt;  &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;itemType&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;zotero&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;bib&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;prism&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt;&lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;eprints&lt;/span&gt;&lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;og&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;dc&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; 
    &lt;span class="nx"&gt;exports&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;defaultUnknownType&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;zoteroGuess&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;bibGuess&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; 
    &lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;prismGuess&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;ogGuess&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;dcGuess&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;There must be code further above that line that sets one or more of the variables on the right-hand side of the assignment to "blogPost". I don't want to read this whole function, so let's search for the string "blogPost". &lt;a href="https://github.com/zotero/translators/blob/beb41ffeb07290e8937a0b99d313a868783487ab/RDF.js#L633"&gt;There it is&lt;/a&gt;:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span&gt;&lt;/span&gt;  &lt;span class="c1"&gt;//PRISM:genre&lt;/span&gt;
  &lt;span class="nx"&gt;type&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;getFirstResults&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;node&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;n&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;prism&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"genre"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;n&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;prism2_0&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"genre"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nx"&gt;n&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;prism2_1&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"genre"&lt;/span&gt;&lt;span class="p"&gt;]);&lt;/span&gt;
  &lt;span class="k"&gt;switch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;type&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s1"&gt;'abstract'&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s1"&gt;'acknowledgements'&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s1"&gt;'authorbio'&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s1"&gt;'bibliography'&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s1"&gt;'index'&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s1"&gt;'tableofcontents'&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
      &lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;prism&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'bookSection'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s1"&gt;'autobiography'&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s1"&gt;'biography'&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
      &lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;prism&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'book'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s1"&gt;'blogentry'&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
      &lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;prism&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'blogPost'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s1"&gt;'homepage'&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s1"&gt;'webliography'&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
      &lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;prism&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'webpage'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s1"&gt;'interview'&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
      &lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;prism&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'interview'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s1"&gt;'letters'&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
      &lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;prism&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'letter'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s1"&gt;'adaptation'&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s1"&gt;'analysis'&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
      &lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;prismGuess&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'journalArticle'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s1"&gt;'column'&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s1"&gt;'newsbulletin'&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s1"&gt;'opinion'&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
      &lt;span class="c1"&gt;//magazine or newspaper&lt;/span&gt;
      &lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;prismGuess&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'newspaperArticle'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s1"&gt;'coverstory'&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s1"&gt;'essay'&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s1"&gt;'feature'&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s1"&gt;'insidecover'&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
      &lt;span class="c1"&gt;//journal or magazine&lt;/span&gt;
      &lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;prismGuess&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'magazineArticle'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;My takeaway from this slap-dash bit of code forensics is that we need to figure out how to embed some &lt;abbr title="Resource Description Framework"&gt;RDF&lt;/abbr&gt; metadata that uses &lt;a href="https://www.idealliance.org/specification/prism"&gt;the &lt;abbr title="Publishing Requirements for Industry Standard Metadata"&gt;PRISM&lt;/abbr&gt; vocabulary&lt;/a&gt; to assert that the "genre" of our blog posts is "blogentry."&lt;/p&gt;
&lt;p&gt;Stay tuned to &lt;a href="https://paregorios.org/categories/zotero"&gt;my &lt;em&gt;Zotero&lt;/em&gt; tag&lt;/a&gt; for the next dispatch ...&lt;/p&gt;&lt;/div&gt;</description><category>html</category><category>javascript</category><category>metadata</category><category>microblogging</category><category>nikola</category><category>prism</category><category>rdf</category><category>wordpress</category><category>zotero</category><guid>https://paregorios.org/posts/2018/04/what-zotero-wants/</guid><pubDate>Fri, 27 Apr 2018 10:33:37 GMT</pubDate></item><item><title>Blogs that work with Zotero</title><link>https://paregorios.org/posts/2018/04/blogs-work-zotero/</link><dc:creator>Tom Elliott</dc:creator><description>&lt;div&gt;&lt;p&gt;I noticed that posts on my blog don't capture smoothly into &lt;a href="https://zotero.org"&gt;&lt;em&gt;Zotero&lt;/em&gt;&lt;/a&gt; (i.e., I have to edit the records in &lt;em&gt;Zotero&lt;/em&gt; after I capture them). So, I want to fix my theme so this is no longer a problem and then contribute that modified theme back to the &lt;a href="https://getnikola.com"&gt;&lt;em&gt;Nikola&lt;/em&gt;&lt;/a&gt; community.&lt;/p&gt;
&lt;p&gt;Step one (this post): look at some blogs and figure out which ones work well with &lt;em&gt;Zotero&lt;/em&gt; and figure out why.&lt;!-- TEASER_END --&gt;&lt;/p&gt;
&lt;h3&gt;Does &lt;em&gt;Zotero&lt;/em&gt; recognize a blog post as a blog post?&lt;/h3&gt;
&lt;p&gt;If &lt;a href="https://www.zotero.org/download/"&gt;the &lt;em&gt;Zotero&lt;/em&gt; Connector plugin&lt;/a&gt; in the browser knows it is dealing with a blog post, it will display a blog post icon in the browser toolbar. But on my blog posts, &lt;em&gt;Zotero&lt;/em&gt; shows me the more generic "web page" icon:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Screen capture showing part of the Firefox browser's toolbar. A mouse pointer icon is displayed, hovering over the Zotero button in the browser toolbar. The Zotero button displays an icon connoting a 'web page': a rectangle with a light blue border and internal shading. A help kite reads 'Save to Zotero (Embedded Metadata).'" src="https://paregorios.org/images/blog_zotero/zotero_generic.png"&gt;&lt;/p&gt;
&lt;p&gt;When I capture a reference to &lt;em&gt;Zotero&lt;/em&gt; from such a post, I do indeed get a record that's typed as a "web page":&lt;/p&gt;
&lt;p&gt;&lt;img alt="Screen capture showing the 'info' portion of the Zotero user interface. It contains data translated from a page on the paregorios.org blog. The 'Item Type' field reads 'Web Page'." src="https://paregorios.org/images/blog_zotero/zotero_record_mine.png"&gt;&lt;/p&gt;
&lt;p&gt;I see this behavior on &lt;a href="https://sgillies.net/"&gt;Sean Gillies' blog&lt;/a&gt; too, which also looks to be running the default &lt;a href="https://themes.getnikola.com/v8/bootstrap3/"&gt;Nikola "Bootstrap 3" theme&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;But on &lt;a href="http://ruthtillman.com/blog/"&gt;Ruth Kitchin Tillman's blog&lt;/a&gt;, we see that &lt;em&gt;Zotero&lt;/em&gt; has figured out it's looking at a blog post:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Screen capture showing part of the Firefox browser's toolbar. A mouse pointer icon is displayed, hovering over the _Zotero_ button in the browser toolbar. The Zotero button displays an icon connoting a 'blog post': a rectangle with a grey border, within which a horizontal band of orange and black appears above a few horizontal lines of grey. A help kite reads 'Save to Zotero (Embedded Metadata).'" src="https://paregorios.org/images/blog_zotero/zotero_post.png"&gt;&lt;/p&gt;
&lt;p&gt;And, as we would expect, the resulting &lt;em&gt;Zotero&lt;/em&gt; record is auto-classified as a "blog post":&lt;/p&gt;
&lt;p&gt;&lt;img alt="Screen capture showing the 'info' portion of the Zotero user interface. It contains data translated from a page on the ruthtillman.com blog. The 'Item Type' field reads 'Blog Post'." src="https://paregorios.org/images/blog_zotero/zotero_record_rkt.png"&gt;&lt;/p&gt;
&lt;h3&gt;What's different?&lt;/h3&gt;
&lt;p&gt;My first thought, since the &lt;em&gt;Zotero&lt;/em&gt; browser plugin says it's using "embedded metadata" in both cases, is to have a look at &lt;a href="https://en.wikipedia.org/wiki/Meta_element"&gt;the "meta" elements&lt;/a&gt; in the HTML "head" in each of the posts. Leaving aside technical metadata about character set, view ports and so forth, the following differences can be noted:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Both sites are embedding &lt;code&gt;meta@property&lt;/code&gt; terms from &lt;a href="http://ogp.me/"&gt;the Open Graph Protocol&lt;/a&gt; namespace (http://ogp.me/ns/#), including its "article" object (http://ogp.me/ns/article#).&lt;/li&gt;
&lt;li&gt;The only difference I see with Open Graph is that ruthtillman.com uses &lt;code&gt;property="article.section"&lt;/code&gt; whereas paregorios.org uses &lt;code&gt;property="article.tag"&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Ruthtillman.com also embeds &lt;code&gt;meta@name&lt;/code&gt; terms conforming to the "Summary" &lt;a href="https://developer.twitter.com/en/docs/tweets/optimize-with-cards/overview/abouts-cards.html"&gt;Twitter Cards&lt;/a&gt; convention (creator, description, image, site, title). Paregorios.org doesn't make use of these.&lt;/li&gt;
&lt;li&gt;Paregorios.org embeds un-namespaced &lt;code&gt;meta@name terms&lt;/code&gt; for "author" and "description," but ruthtillman.com doesn't.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So, unless there's some heuristic encoded into &lt;a href="https://www.zotero.org/support/translators"&gt;the &lt;em&gt;Zotero&lt;/em&gt; translator&lt;/a&gt; that comes to a different conclusion about these two sets of &lt;code&gt;meta&lt;/code&gt; tags, something else must be at play. Either there's a different kind of metadata that it finds elsewhere in the posts on ruthtillman.com that it interprets as indicative of a blog post, or it notices that it's looking at WordPress output and infers "blog" from that. &lt;/p&gt;
&lt;h3&gt;Now what?&lt;/h3&gt;
&lt;p&gt;In any case, I guess it's time to go snooping around in &lt;a href="https://github.com/zotero/translators/blob/master/Embedded%20Metadata.js"&gt;the &lt;em&gt;Zotero&lt;/em&gt; code&lt;/a&gt; to see what we can find.&lt;/p&gt;
&lt;p&gt;Stay tuned to &lt;a href="https://paregorios.org/categories/zotero/"&gt;my &lt;em&gt;Zotero&lt;/em&gt; tag&lt;/a&gt; for updates ...&lt;/p&gt;&lt;/div&gt;</description><category>html</category><category>metadata</category><category>microblogging</category><category>nikola</category><category>wordpress</category><category>zotero</category><guid>https://paregorios.org/posts/2018/04/blogs-work-zotero/</guid><pubDate>Thu, 26 Apr 2018 18:31:57 GMT</pubDate></item><item><title>New in EpiDig</title><link>https://paregorios.org/posts/2014/10/new-in-epidig/</link><dc:creator>Tom Elliott</dc:creator><description>&lt;p&gt;Records for the following digital resources for the discovery, publication, study, and teaching of epigraphy have been added to the &lt;a href="https://www.zotero.org/groups/epidig"&gt;&lt;i&gt;EpiDig&lt;/i&gt; library at zotero.org&lt;/a&gt;:&lt;br&gt;&lt;br&gt;&lt;/p&gt;&lt;div class="csl-bib-body" style="line-height: 1.35; padding-left: 2em; text-indent: -2em;"&gt;  &lt;div class="csl-entry"&gt;BÃ©rard, FranÃ§ois, Denis Feissel, Nicolas Laubry, Pierre Petitmengin, Denis Rousset, and Michel SÃ¨ve. &lt;i&gt;&lt;a href="http://antiquite.ens.fr/ressources/publications-aux-p-e-n-s/guide-de-l-epigraphiste/"&gt;Guide de lâEpigraphiste&lt;/a&gt;&lt;/i&gt;.&lt;/div&gt;&lt;span class="Z3988" title="url_ver=Z39.88-2004&amp;amp;ctx_ver=Z39.88-2004&amp;amp;rfr_id=info%3Asid%2Fzotero.org%3A2&amp;amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Adc&amp;amp;rft.type=webpage&amp;amp;rft.title=Guide%20de%20l'Epigraphiste&amp;amp;rft.description=The%20authors%20intend%20to%20present%20every%20year%20a%20supplement%2C%20which%20will%20be%20avalaible%20for%20downloading.&amp;amp;rft.identifier=http%3A%2F%2Fantiquite.ens.fr%2Fressources%2Fpublications-aux-p-e-n-s%2Fguide-de-l-epigraphiste%2F&amp;amp;rft.aufirst=Fran%C3%A7ois&amp;amp;rft.aulast=B%C3%A9rard&amp;amp;rft.au=Fran%C3%A7ois%20B%C3%A9rard&amp;amp;rft.au=Denis%20Feissel&amp;amp;rft.au=Nicolas%20Laubry&amp;amp;rft.au=Pierre%20Petitmengin&amp;amp;rft.au=Denis%20Rousset&amp;amp;rft.au=Michel%20S%C3%A8ve"&gt;&lt;/span&gt;  &lt;div class="csl-entry"&gt;&lt;a href="http://ifa.phil-fak.uni-koeln.de/epiana.html"&gt;&lt;i&gt;Epigraphica Anatolica&lt;/i&gt;&lt;/a&gt;.â Institut FÃ¼r Altertumskunde, UniversitÃ¤t Zu KÃ¶ln.&lt;/div&gt;&lt;span class="Z3988" title="url_ver=Z39.88-2004&amp;amp;ctx_ver=Z39.88-2004&amp;amp;rfr_id=info%3Asid%2Fzotero.org%3A2&amp;amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Adc&amp;amp;rft.type=webpage&amp;amp;rft.title=Epigraphica%20Anatolica&amp;amp;rft.description=Zeitschrift%20f%C3%BCr%20Epigraphik%20und%20historische%20Geographie%20Anatoliens&amp;amp;rft.identifier=http%3A%2F%2Fifa.phil-fak.uni-koeln.de%2Fepiana.html"&gt;&lt;/span&gt;  &lt;div class="csl-entry"&gt;Fossati, Dario. &lt;a href="http://www.hittiteepigraphs.com/index.html"&gt;&lt;i&gt;Hittite Epigraphic Findings in the Ancient Near East&lt;/i&gt;&lt;/a&gt;.&lt;/div&gt;&lt;span class="Z3988" title="url_ver=Z39.88-2004&amp;amp;ctx_ver=Z39.88-2004&amp;amp;rfr_id=info%3Asid%2Fzotero.org%3A2&amp;amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Adc&amp;amp;rft.type=webpage&amp;amp;rft.title=Hittite%20Epigraphic%20Findings%20in%20the%20Ancient%20Near%20East&amp;amp;rft.description=The%20present%20web-site%20has%20been%20developed%20with%20the%20purpose%20of%20creating%20a%20general%20geographic%20map%20of%20the%20epigraphic%20findings%20belonging%20to%20the%20Hittite%20Kingdom%20(1600%20%E2%80%93%201150%20BC).%20The%20findings%20listed%20here%20concern%20texts%2C%20seals%2C%20and%20inscribed%20objects%20written%20either%20in%20Akkadic%20or%20Hittite.%20%0AData%20come%20from%20more%20than%2070%20archaeological%20sites%20spread%20over%20a%20territory%20extending%20from%20the%20Western%20Anatolian%20coast%20to%20the%20Tigris%20valley%20and%20from%20the%20Northern%20Anatolian%20coast%20to%20the%20Syro-Lebanese%20border.%0A%0AThe%20web-site%20and%20its%20contents%20have%20been%20created%20and%20are%20currently%20curated%20by%20Dr.%20Dario%20Fossati.%20The%20page%20was%20realized%20as%20part%20of%20the%20project%20%22Creazione%20di%20una%20mappa%20interattiva%20dei%20ritrovamenti%20epigrafici%20nei%20siti%20anatolici%20e%20siriani%20sotto%20controllo%20ittita%22%20and%20has%20been%20supervised%20by%20Professor%20Franca%20Pecchioli%20Daddi%20of%20the%20University%20of%20Florence.%20%0AIt%20has%20been%20part%20of%20the%20research%20project%20PRIN%202009%20%22Modelli%20di%20costruzione%20fisica%20ed%20ideologica%20del%20territorio%20e%20identit%C3%A0%20culturali%3A%20citt%C3%A0%20sacre%2C%20santuari%2C%20complessi%20funerari%20in%20Siria%2C%20Anatolia%20e%20Transcaucasia%20nelle%20Et%C3%A0%20del%20Bronzo%20e%20del%20Ferro%22%2C%20supervised%20by%20Professor%20Stefania%20Mazzoni.&amp;amp;rft.identifier=http%3A%2F%2Fwww.hittiteepigraphs.com%2Findex.html&amp;amp;rft.aufirst=Dario&amp;amp;rft.aulast=Fossati&amp;amp;rft.au=Dario%20Fossati"&gt;&lt;/span&gt;  &lt;div class="csl-entry"&gt;Maspero, Gaston. &lt;i&gt;&lt;a href="http://gallica.bnf.fr/ark:/12148/btv1b52500698x"&gt;Cahiers de notes Ã©pigraphiques de Gaston Masperoâ¯; copies dâinscriptions hiÃ©roglyphiques, de papyrus Ã©gyptiens et coptesâ¯; dessins, croquis, etc. de monuments dâAkmÃ®m, Louqsor, etc. (1881-1884)&lt;/a&gt;.Â &lt;/i&gt;1801.&lt;/div&gt;&lt;span class="Z3988" title="url_ver=Z39.88-2004&amp;amp;ctx_ver=Z39.88-2004&amp;amp;rfr_id=info%3Asid%2Fzotero.org%3A2&amp;amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;amp;rft.genre=book&amp;amp;rft.btitle=Cahiers%20de%20notes%20%C3%A9pigraphiques%20de%20Gaston%20Maspero%20%3B%20copies%20d'inscriptions%20hi%C3%A9roglyphiques%2C%20de%20papyrus%20%C3%A9gyptiens%20et%20coptes%20%3B%20dessins%2C%20croquis%2C%20etc.%20de%20monuments%20d'Akm%C3%AEm%2C%20Louqsor%2C%20etc.%20(1881-1884).&amp;amp;rft.aufirst=Gaston&amp;amp;rft.aulast=Maspero&amp;amp;rft.au=Gaston%20Maspero&amp;amp;rft.date=1801&amp;amp;rft.language=Fran%C3%A7ais"&gt;&lt;/span&gt;  &lt;div class="csl-entry"&gt;&lt;i&gt;&lt;a href="http://www.cefas.com.ye/spip.php?article520"&gt;Revue RaydÃ¢n&lt;/a&gt;&lt;/i&gt;.Â Centre FranÃ§ais dâArchÃ©ologie et de Sciences Sociales de Sanaa.&lt;/div&gt;&lt;span class="Z3988" title="url_ver=Z39.88-2004&amp;amp;ctx_ver=Z39.88-2004&amp;amp;rfr_id=info%3Asid%2Fzotero.org%3A2&amp;amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Adc&amp;amp;rft.type=webpage&amp;amp;rft.title=Revue%20Rayd%C3%A2n&amp;amp;rft.description=journal%20of%20ancient%20Yemeni%20antiquities%20and%20epigraphy&amp;amp;rft.identifier=http%3A%2F%2Fwww.cefas.com.ye%2Fspip.php%3Farticle520"&gt;&lt;/span&gt;  &lt;div class="csl-entry"&gt;&lt;i&gt;&lt;a href="http://romaninscriptionsofbritain.org/"&gt;Roman Inscriptions of Britain&lt;/a&gt;&lt;/i&gt;.&lt;/div&gt;&lt;span class="Z3988" title="url_ver=Z39.88-2004&amp;amp;ctx_ver=Z39.88-2004&amp;amp;rfr_id=info%3Asid%2Fzotero.org%3A2&amp;amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Adc&amp;amp;rft.type=webpage&amp;amp;rft.title=Roman%20Inscriptions%20of%20Britain&amp;amp;rft.description=This%20website%20hosts%20Volume%20One%20of%20The%20Roman%20Inscriptions%20of%20Britain%2C%20R.G.%20Collingwood's%20and%20R.P.%20Wright's%20magisterial%20edition%20of%202%2C401%20monumental%20inscriptions%20from%20Britain%20found%20prior%20to%201955.%20It%20also%20incorporates%20all%20Addenda%20and%20Corrigenda%20published%20in%20the%201995%20reprint%20of%20RIB%20(edited%20by%20R.S.O.%20Tomlin)%20and%20the%20annual%20survey%20of%20inscriptions%20published%20in%20Britannia%20since.&amp;amp;rft.identifier=http%3A%2F%2Fromaninscriptionsofbritain.org%2F&amp;amp;rft.date=2014"&gt;&lt;/span&gt;  &lt;div class="csl-entry"&gt;&lt;i&gt;&lt;a href="http://www.sel.cchs.csic.es/"&gt;Studi Epigrafici E Linguistici Sul Vicino Oriente Antico&lt;/a&gt;&lt;/i&gt;.&lt;/div&gt;&lt;span class="Z3988" title="url_ver=Z39.88-2004&amp;amp;ctx_ver=Z39.88-2004&amp;amp;rfr_id=info%3Asid%2Fzotero.org%3A2&amp;amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;amp;rft.genre=article&amp;amp;rft.atitle=Studi%20epigrafici%20e%20linguistici%20sul%20Vicino%20Oriente%20antico&amp;amp;rft.issn=2239-5393"&gt;&lt;/span&gt;  &lt;div class="csl-entry"&gt;&lt;i&gt;&lt;a href="http://www.raco.cat/index.php/SEBarc"&gt;Sylloge Epigraphica Barcinonensis: SEBarc&lt;/a&gt;&lt;/i&gt;.&lt;/div&gt;&lt;span class="Z3988" title="url_ver=Z39.88-2004&amp;amp;ctx_ver=Z39.88-2004&amp;amp;rfr_id=info%3Asid%2Fzotero.org%3A2&amp;amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;amp;rft.genre=article&amp;amp;rft.atitle=Sylloge%20epigraphica%20Barcinonensis%3A%20SEBarc&amp;amp;rft.issn=2014-8151"&gt;&lt;/span&gt;  &lt;div class="csl-entry"&gt;Van Nijf, Onno. &lt;i&gt;&lt;a href="http://www.saxa-loquuntur.nl/"&gt;Saxa Loquuntur&lt;/a&gt;&lt;/i&gt;.&lt;/div&gt;&lt;span class="Z3988" title="url_ver=Z39.88-2004&amp;amp;ctx_ver=Z39.88-2004&amp;amp;rfr_id=info%3Asid%2Fzotero.org%3A2&amp;amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Adc&amp;amp;rft.type=webpage&amp;amp;rft.title=Saxa%20Loquuntur&amp;amp;rft.description=This%20site%20brings%20together%20a%20number%20of%20resources%20that%20are%20available%20for%20the%20study%20of%20epigraphic%20texts.%20The%20site%20was%20designed%20for%20my%20own%20courses%20at%20the%20University%20of%20Groningen%20and%20at%20the%20Netherlands%20Institute%20at%20Athens%20The%20site%20will%20be%20based%20on%20two%20earlier%20documents%20that%20I%20have%20compiled%2C%20The%20Absolute%20Beginners%E2%80%99%20Guide%20to%20Greek%20and%20Latin%20Epigraphy%20and%20Electronic%20Epigraphy%2C%20which%20found%20some%20readers%20over%20the%20web.%20The%20focus%20is%20on%20Greek%20inscriptions%2C%20but%20Latin%20texts%20are%20not%20excluded!&amp;amp;rft.identifier=http%3A%2F%2Fwww.saxa-loquuntur.nl%2F&amp;amp;rft.aufirst=Onno&amp;amp;rft.aulast=van%20Nijf&amp;amp;rft.au=Onno%20van%20Nijf&amp;amp;rft.date=2013"&gt;&lt;/span&gt;&lt;/div&gt;</description><category>epidig</category><category>epigraphy</category><category>horothesia</category><category>zotero</category><guid>https://paregorios.org/posts/2014/10/new-in-epidig/</guid><pubDate>Fri, 24 Oct 2014 23:20:00 GMT</pubDate></item><item><title>Mining AWOL more carefully for ISSNs</title><link>https://paregorios.org/posts/2014/04/mining-awol-more-carefully-for-issns/</link><dc:creator>Tom Elliott</dc:creator><description>&lt;p&gt;I made a couple of bad assumptions in &lt;a href="http://horothesia.blogspot.com/2014/04/mining-awol-for-identifiers.html"&gt;my previous attempt to mine ISSNs&lt;/a&gt; out of the content of the &lt;a href="http://ancientworldonline.blogspot.com/"&gt;AWOL Blog&lt;/a&gt;:&lt;br&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;I assumed that the string "ISSN" would always appear in all caps.&lt;/li&gt;&lt;li&gt;I assumed that the string "ISSN" would be followed immediately by a colon (:).&lt;/li&gt;&lt;/ol&gt;In fact, the following command indicates there are at least 673 posts containing instances of the string (ignoring capitalization) "issn" in the AWOL content:&lt;br&gt;&lt;blockquote class="tr_bq"&gt;&lt;span style='font-family: "Courier New",Courier,monospace;'&gt;ack -hilo issnÂ  post-*.xml | wc -l&lt;/span&gt;&lt;/blockquote&gt;Â In an attempt to make sure we're capturing real ISSN strings, I refined the regular expression to try to capture a leading "ISSN" string, and then everything possibly following until and including a properly formatted ISSN number. I've seen both ####-#### and ########, (where # is either a digit or the character "X") in the wild, so I accommodated both possibilities. Here's the command:&lt;br&gt;&lt;blockquote class="tr_bq"&gt;&lt;span style='font-family: "Courier New",Courier,monospace;'&gt;ack -hio 'issn[^\d]*[\dX]{4}-?[\dX]{4}' post-*.xml &amp;gt; issn-raw.txt&lt;/span&gt;&lt;/blockquote&gt;&lt;a href="https://github.com/paregorios/awol-acronyms/blob/master/issn-raw.txt"&gt;You can see the raw list of the matched strings here&lt;/a&gt;. If we count the lines generated by that command instead of saving them to file, we can see that there are at least 1931 ISSNs in AWOL.&lt;br&gt;&lt;blockquote class="tr_bq"&gt;&lt;span style='font-family: "Courier New",Courier,monospace;'&gt;ack -hio 'issn[^\d]*[\dX]{4}-?[\dX]{4}' post-*.xml | wc -l&lt;/span&gt;&lt;/blockquote&gt;Then I wondered, are we getting just one ISSN per file or multiples? We know that some of  the posts in the blog are about single resources, but there are also  plenty of posts about collections and also posts that gather up all the  references to every known instance of a particular genre (e.g.,  open-access journals or journals in JSTOR). So I modified the command to count how many files have these "well-formed" ISSN strings in them (the -l option to ack):&lt;br&gt;&lt;blockquote class="tr_bq"&gt;&lt;span style='font-family: "Courier New",Courier,monospace;'&gt;ack -hilo 'issn[^\d]*[\dX]{4}-?[\dX]{4}' post-*.xml | wc -l&lt;/span&gt;&lt;/blockquote&gt;For a total of 638 affected files. &lt;a href="https://github.com/paregorios/awol-acronyms/blob/master/issn-files.txt"&gt;Here's a list of the affected files&lt;/a&gt;, for future team reference.&lt;br&gt;&lt;br&gt;One wonders about the discrepancy between 638 and 673, but at least I know I now have a regular expression that can capture most of the ISSNs and their values. I'll do some spot-checking later to see if I can figure out what's being missed and why.&lt;br&gt;&lt;br&gt;More importantly, it's now very clear that mining the ISSNs out of the blog posts on our way to &lt;a href="http://zotero.org/"&gt;Zotero&lt;/a&gt; is a worthwhile task. Not only will we be able to add them to the records, we may also be able to use them to look up existing catalog data from other databases with which to better populate the fields in the corresponding Zotero records.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</description><category>ack</category><category>awol</category><category>horothesia</category><category>issn</category><category>thpppt</category><category>zotero</category><guid>https://paregorios.org/posts/2014/04/mining-awol-more-carefully-for-issns/</guid><pubDate>Sat, 12 Apr 2014 02:24:00 GMT</pubDate></item><item><title>Mining AWOL for Identifiers</title><link>https://paregorios.org/posts/2014/04/mining-awol-for-identifiers/</link><dc:creator>Tom Elliott</dc:creator><description>&lt;span style="color: red;"&gt;&lt;b&gt;NB: There is now a follow-up post to this one, in which various bad assumptions made here are addressed: "&lt;a href="http://horothesia.blogspot.com/2014/04/mining-awol-more-carefully-for-issns.html"&gt;Mining AWOL more carefully for ISSNs&lt;/a&gt;". &lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;br&gt;In collaboration with &lt;a href="https://www.linkedin.com/in/pavanatri"&gt;Pavan Artri&lt;/a&gt;, &lt;a href="http://isaw.nyu.edu/people/staff/dawn-gross"&gt;Dawn Gross&lt;/a&gt;, &lt;a href="http://www.libraries.psu.edu/psul/staffdirectory.html?uid=cej14"&gt;Chuck Jones&lt;/a&gt;, &lt;a href="https://www.linkedin.com/pub/ronak-parpani/42/195/241"&gt;Ronak Parpani&lt;/a&gt;, and &lt;a href="http://isaw.nyu.edu/about/news/david-ratzan-becomes-isaws-head-of-library"&gt;David Ratzan&lt;/a&gt;, I'm currently working on a project to port the content of&lt;a href="http://ancientworldonline.blogspot.com/"&gt; Chuck's &lt;i&gt;Ancient World Online (AWOL)&lt;/i&gt; blog&lt;/a&gt; to a &lt;a href="https://www.zotero.org/"&gt;Zotero&lt;/a&gt; library. Funded in part by a grant from the &lt;a href="http://delmas.org/"&gt;Gladys Krieble Delmas Foundation&lt;/a&gt;, the idea is to make the information Chuck gathers available for more structured data needs, like citation generation, creation of library catalog records, and participation in linked data graphs. So far, we have code that successfully parses the &lt;a href="http://en.wikipedia.org/wiki/Atom_%28standard%29"&gt;Atom XML&lt;/a&gt; "backup" file we can get from Blogger and uses the &lt;a href="https://www.zotero.org/support/dev/server_api/v2/start"&gt;Zotero API&lt;/a&gt; to create a Zotero record for each blog post and to populate its title (derived from the title of the post), url (the first link we find in the body of the post), and tags (pulled from the Blogger "labels").&lt;br&gt;&lt;br&gt;We know that some of the post bodies also contain standard numbers (like &lt;a href="http://en.wikipedia.org/wiki/International_Standard_Serial_Number"&gt;ISSNs&lt;/a&gt; and &lt;a href="http://en.wikipedia.org/wiki/International_Standard_Book_Number"&gt;ISBNs&lt;/a&gt;), but it has been unclear how many of them there are and how regular the structure of text strings in which they appear. Would it be worthwhile to try to mine them out programmatically and insert them into the Zotero records as well? If so, what's our best strategy for capturing them ... i.e., what sort of parenthetical remarks, whitespace, and punctuation might intervene between them and the corresponding values? Time to do some data prospecting ...&lt;br&gt;&lt;br&gt;We'd previously split the monolithic "backup" XML file into &lt;a href="https://github.com/paregorios/awol-backup"&gt;individual XML files, one per post &lt;/a&gt;(click at your own risk; there are a lot of files in that github listing and your browser performance in rendering the page and its JavaScript may vary). Rather than writing a script to parse all that stuff just to figure out what's going on, I decided to try my new favorite can-opener, &lt;a href="http://beyondgrep.com/"&gt;ack&lt;/a&gt; (previously installed stresslessly on my Mac with another great tool, the &lt;a href="http://brew.sh/"&gt;Homebrew package manager&lt;/a&gt;).&lt;br&gt;&lt;br&gt;Time for some fun with &lt;a href="http://en.wikipedia.org/wiki/Regular_expression"&gt;regular expressions&lt;/a&gt;! I worked on this part iteratively, trying to start out as liberally as possible, thereby letting in a lot of irrelevant stuff so as not to miss anything good. I assumed that we want to catch acronyms, so strings of two or more capital letters, preceded by a word boundary. I didn't want to just use a [A-Z] range, since AWOL indexes multilingual resources, so I had recourse to the &lt;a href="http://www.regular-expressions.info/unicode.html"&gt;Unicode Categories feature&lt;/a&gt; that's available in most modern regular expression engines, including recent versions of &lt;a href="http://en.wikipedia.org/wiki/Perl"&gt;Perl&lt;/a&gt; (on which ack relies). So, I started off with:&lt;br&gt;&lt;blockquote class="tr_bq"&gt;&lt;span style='font-family: "Courier New",Courier,monospace;'&gt;\b\p{Lu}\p{Lu}+&lt;/span&gt;&lt;/blockquote&gt;After some iteration on the results, I ended up with something more complex, trying to capture anything that fell between the acronym itself and the first subsequent colon, which seemed to be the standard delimiter between the designation+explanation of the type of identifier and the identifying value itself. I figure we'll worry how to parse the value later, once we're sure which identifiers we want to capture. So, here's the regex I ultimately used:&lt;br&gt;&lt;blockquote class="tr_bq"&gt;&lt;span style='font-family: "Courier New",Courier,monospace;'&gt;\b\p{Lu}\p{Lu}+[:\s][^\b\p{P}]*[\b\:]&lt;/span&gt;&lt;/blockquote&gt;The full ack command looked like this:&lt;br&gt;&lt;blockquote class="tr_bq"&gt;&lt;span style='font-family: "Courier New",Courier,monospace;'&gt;ack -oh "\b\p{Lu}\p{Lu}+[:\s][^\b\p{P}]*[\b\:]" post-*.xml &amp;gt; ../awol-acronyms/raw.txt&lt;/span&gt;&lt;/blockquote&gt;where the &lt;span style='font-family: "Courier New",Courier,monospace;'&gt;-h&lt;/span&gt; option telling ack to "suppress the prefixing of filenames on output when multiple files are searched" and the &lt;span style='font-family: "Courier New",Courier,monospace;'&gt;-o&lt;/span&gt; option telling ack to "show only the part of each line matching" my regex pattern (quotes from the ack man page). &lt;a href="https://github.com/paregorios/awol-acronyms/blob/master/raw.txt"&gt;You can browse the raw results here&lt;/a&gt;.&lt;br&gt;&lt;br&gt;So, how to get this text file into a more analyzable state? First, I thought I'd pull it into my text editor, &lt;a href="http://www.sublimetext.com/"&gt;Sublime&lt;/a&gt;, and use its text manipulation functions to filter for unique lines and then sort them. But then, it occurred to me that I really wanted to know frequency of identifier classes across the whole of the blog content, so I turned to &lt;a href="http://openrefine.org/"&gt;OpenRefine&lt;/a&gt;.&lt;br&gt;&lt;br&gt;I followed OR's standard process for importing a text file (being sure to set the right character encoding for the file on which I was working). Then, I used the column edit functionality and the string manipulation functions in the Open Refine Expression Language (abbreviated GREL because it used to be called "Google Refine Expression Language") to clean up the strings (regularizing whitespace, trimming leading and trailing whitespace, converting everything to uppercase, and getting rid of whitespace immediately preceding colons). That part could all have been done in a step outside OR with other tools, but I didn't think about it until I was already there.&lt;br&gt;&lt;br&gt;Then came the part OR is actually good at, faceting the data (i.e., getting all the unique strings and counts of same). I then used the GREL facetCount() function to get those values into the table itself, &lt;a href="http://googlerefine.blogspot.com/2011/08/remove-duplicate.html"&gt;followed this recipe to get rid of matching rows in the data&lt;/a&gt;, and exported &lt;a href="https://github.com/paregorios/awol-acronyms/blob/master/facetcounts.csv"&gt;a CSV file of the unique terms and their counts&lt;/a&gt; (github's default display for CSV makes our initial column very wide, so you may have to click on the "raw" link to see all the columns of data).&lt;br&gt;&lt;br&gt;There are some things that need investigating, but what strikes me is that apparently only ISSN is probably worth capturing programmatically. ISSNs appear 44 times in 14 different variations:&lt;br&gt;&lt;br&gt;&lt;style&gt;table {  }td { padding-top: 1px; padding-right: 1px; padding-left: 1px; color: black; font-size: 12pt; font-weight: 400; font-style: normal; text-decoration: none; font-family: Calibri,sans-serif; vertical-align: bottom; border: medium none; white-space: nowrap; }&lt;/style&gt;    &lt;br&gt;&lt;table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse; width: 130px;"&gt;  &lt;colgroup&gt;&lt;col span="2" style="width: 65pt;" width="65"&gt; &lt;/colgroup&gt;&lt;tbody&gt;&lt;tr height="15" style="height: 15.0pt;"&gt;  &lt;td height="15" style="height: 15.0pt; width: 65pt;" width="65"&gt;ISSN:&lt;/td&gt;  &lt;td align="right" style="width: 65pt;" width="65"&gt;17&lt;/td&gt; &lt;/tr&gt;&lt;tr height="15" style="height: 15.0pt;"&gt;  &lt;td height="15" style="height: 15.0pt;"&gt;ISSN paper:&lt;/td&gt;  &lt;td align="right"&gt;9&lt;/td&gt; &lt;/tr&gt;&lt;tr height="15" style="height: 15.0pt;"&gt;  &lt;td height="15" style="height: 15.0pt;"&gt;ISSN electrÃ²nic:&lt;/td&gt;  &lt;td align="right"&gt;4&lt;/td&gt; &lt;/tr&gt;&lt;tr height="15" style="height: 15.0pt;"&gt;  &lt;td height="15" style="height: 15.0pt;"&gt;ISSN electronic edition:&lt;/td&gt;  &lt;td align="right"&gt;2&lt;/td&gt; &lt;/tr&gt;&lt;tr height="15" style="height: 15.0pt;"&gt;  &lt;td height="15" style="height: 15.0pt;"&gt;ISSN electrÃ³nico:&lt;/td&gt;  &lt;td align="right"&gt;2&lt;/td&gt; &lt;/tr&gt;&lt;tr height="15" style="height: 15.0pt;"&gt;  &lt;td height="15" style="height: 15.0pt;"&gt;ISSN Ã©lectronique:&lt;/td&gt;  &lt;td align="right"&gt;2&lt;/td&gt; &lt;/tr&gt;&lt;tr height="15" style="height: 15.0pt;"&gt;  &lt;td height="15" style="height: 15.0pt;"&gt;ISSN impreso:&lt;/td&gt;  &lt;td align="right"&gt;2&lt;/td&gt; &lt;/tr&gt;&lt;tr height="15" style="height: 15.0pt;"&gt;  &lt;td height="15" style="height: 15.0pt;"&gt;ISSN Online:&lt;/td&gt;  &lt;td align="right"&gt;2&lt;/td&gt; &lt;/tr&gt;&lt;tr height="15" style="height: 15.0pt;"&gt;  &lt;td height="15" style="height: 15.0pt;"&gt;ISSN ediciÃ³n electrÃ³nica:&lt;/td&gt;  &lt;td align="right"&gt;1&lt;/td&gt; &lt;/tr&gt;&lt;tr height="15" style="height: 15.0pt;"&gt;  &lt;td height="15" style="height: 15.0pt;"&gt;ISSN format papier:&lt;/td&gt;  &lt;td align="right"&gt;1&lt;/td&gt; &lt;/tr&gt;&lt;tr height="15" style="height: 15.0pt;"&gt;  &lt;td height="15" style="height: 15.0pt;"&gt;ISSN Print:&lt;/td&gt;  &lt;td align="right"&gt;1&lt;/td&gt; &lt;/tr&gt;&lt;tr height="15" style="height: 15.0pt;"&gt;  &lt;td height="15" style="height: 15.0pt;"&gt;ISSN print edition:&lt;/td&gt;  &lt;td align="right"&gt;1&lt;/td&gt; &lt;/tr&gt;&lt;tr height="15" style="height: 15.0pt;"&gt;  &lt;td height="15" style="height: 15.0pt;"&gt;ONLINE ISSN:&lt;/td&gt;  &lt;td align="right"&gt;1&lt;/td&gt; &lt;/tr&gt;&lt;tr height="15" style="height: 15.0pt;"&gt;  &lt;td height="15" style="height: 15.0pt;"&gt;PRINT ISSN:&lt;/td&gt;  &lt;td align="right"&gt;1&lt;/td&gt; &lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br&gt;Compare ISBNs:&lt;br&gt;&lt;br&gt;&lt;style&gt;table {  }td { padding-top: 1px; padding-right: 1px; padding-left: 1px; color: black; font-size: 12pt; font-weight: 400; font-style: normal; text-decoration: none; font-family: Calibri,sans-serif; vertical-align: bottom; border: medium none; white-space: nowrap; }.xl63 { text-align: left; }&lt;/style&gt;    &lt;br&gt;&lt;table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse; width: 130px;"&gt;  &lt;colgroup&gt;&lt;col style="width: 65pt;" width="65"&gt; &lt;col style="width: 65pt;" width="65"&gt; &lt;/colgroup&gt;&lt;tbody&gt;&lt;tr height="15" style="height: 15.0pt;"&gt;  &lt;td height="15" style="height: 15.0pt; width: 65pt;" width="65"&gt;ISBN of Second Part:&lt;/td&gt;  &lt;td class="xl63" style="width: 65pt;" width="65"&gt;2&lt;/td&gt; &lt;/tr&gt;&lt;tr height="15" style="height: 15.0pt;"&gt;  &lt;td height="15" style="height: 15.0pt;"&gt;ISBN:&lt;/td&gt;  &lt;td class="xl63"&gt;1&lt;/td&gt; &lt;/tr&gt;&lt;tr height="15" style="height: 15.0pt;"&gt;  &lt;td height="15" style="height: 15.0pt;"&gt;ISBN Compiled by:&lt;/td&gt;  &lt;td class="xl63"&gt;1&lt;/td&gt; &lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br&gt;&lt;a href="http://en.wikipedia.org/wiki/Digital_object_identifier"&gt;DOIs&lt;/a&gt; make only one appearance, and there are no Library of Congress cataloging numbers.&lt;br&gt;&lt;br&gt;Now to point my collaborators at this blog post and see if they agree with me... &lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</description><category>ack</category><category>atom</category><category>awol</category><category>blogs</category><category>efficiency</category><category>horothesia</category><category>LOD</category><category>patterns</category><category>refine</category><category>thpppt</category><category>xml</category><category>zotero</category><guid>https://paregorios.org/posts/2014/04/mining-awol-for-identifiers/</guid><pubDate>Fri, 11 Apr 2014 22:37:00 GMT</pubDate></item><item><title>New in EpiDig: EAGLE Europeana Portal</title><link>https://paregorios.org/posts/2013/09/new-in-epidig-eagle-europeana-portal/</link><dc:creator>Tom Elliott</dc:creator><description>&lt;p&gt;I have just added bibliographic information for the newÂ &lt;a href="http://www.eagle-network.eu/"&gt;&lt;i&gt;EAGLE Europeana Project&lt;/i&gt;Â portal&lt;/a&gt;Â (Greek and Latin inscriptions) to the open-accessÂ &lt;a href="http://www.zotero.org/groups/epidig"&gt;&lt;i&gt;EpiDig &lt;/i&gt;Zotero Library&lt;/a&gt;&lt;i&gt; &lt;/i&gt;(digital resources for the discovery, publication, study, and teaching of epigraphy).&lt;/p&gt;</description><category>epidig</category><category>epigraphy</category><category>horothesia</category><category>inscriptions</category><category>zotero</category><guid>https://paregorios.org/posts/2013/09/new-in-epidig-eagle-europeana-portal/</guid><pubDate>Wed, 11 Sep 2013 17:35:00 GMT</pubDate></item><item><title>Updated In EpiDig: Epigraphic Database Roma</title><link>https://paregorios.org/posts/2013/03/updated-in-epidig-epigraphic-database/</link><dc:creator>Tom Elliott</dc:creator><description>&lt;p&gt;I've just updated &lt;a href="http://zotero.org/groups/epidig/items/H5TKUEUA"&gt;bibliographic information about the Epigraphic Database Roma&lt;/a&gt; in the &lt;a href="https://www.zotero.org/groups/epidig/items/order/dateModified/sort/desc"&gt;Zotero EpiDig Library&lt;/a&gt;.&lt;/p&gt;</description><category>bibliography</category><category>epidig</category><category>epigraphy</category><category>horothesia</category><category>zotero</category><guid>https://paregorios.org/posts/2013/03/updated-in-epidig-epigraphic-database/</guid><pubDate>Tue, 05 Mar 2013 22:53:00 GMT</pubDate></item><item><title>Ancient Studies Needs Open Bibliographic Data and Associated URIs</title><link>https://paregorios.org/posts/2012/06/ancient-studies-needs-open/</link><dc:creator>Tom Elliott</dc:creator><description>&lt;i&gt;Update 1: Â links throughout, minor formatting changes, proper Creative Commons Public Domain tools, parenthetical about import path from Endnote and such, fixing a few typos.&lt;/i&gt;&lt;br&gt;&lt;br&gt;The &lt;a href="http://www.neh.gov/"&gt;NEH&lt;/a&gt;-funded &lt;a href="http://wiki.digitalclassicist.org/Linked_Ancient_World_Data_Institute"&gt;Linked Ancient World Data Institute&lt;/a&gt;, still in progress at &lt;a href="http://isaw.nyu.edu/"&gt;ISAW&lt;/a&gt;, has got me thinking about a number of things. One of them is bibliography and linked data. Here's a brain dump, intended to spark conversation and collaboration.&lt;br&gt;&lt;br&gt;&lt;b&gt;What We Need&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;ul&gt;&lt;li&gt;As much bibliographic data as possible, for both primary and secondary sources (print and digital), publicly released to third parties under either a public domain declaration or an unrestrictive open license.&lt;/li&gt;&lt;li&gt;Stable HTTP &lt;a href="http://en.wikipedia.org/wiki/Uniform_resource_identifier"&gt;URIs&lt;/a&gt; for every work and author included in those datasets.&lt;/li&gt;&lt;/ul&gt;&lt;br&gt;&lt;b&gt;Why&lt;/b&gt;&lt;br&gt;&lt;br&gt;Bibliographic and citation collection and management are integral to every research and publication in project in ancient studies. We could save each other a lot of time, and get more substantive work done in the field, if it was simpler and easier to do. We could more easily and effectively tie together disparate work published on the web (and appearing on the web through retrospective digitization) if we had a common infrastructure and shared point of reference. There's already a lot of digital data in various hands that could support such an effort, but a good chunk of it is not out where anybody with good will and talent can get at it to improve it, build tools around it, etc.&lt;br&gt;&lt;br&gt;&lt;b&gt;What I Want You (and Me) To Do If You Have Bibliographic Data&lt;/b&gt;&lt;br&gt;&lt;ol&gt;&lt;li&gt;Release it to the world through a third party. No matter what format it's in, give a copy to someone else whose function is hosting free data on the web. Dump it into a public repository at &lt;a href="http://github.com/"&gt;github.com&lt;/a&gt; or &lt;a href="http://sourceforge.net/"&gt;sourceforge.net&lt;/a&gt;. Put it into a shared library at &lt;a href="http://www.zotero.org/"&gt;Zotero&lt;/a&gt;, &lt;a href="http://www.bibsonomy.org/"&gt;Bibsonomy&lt;/a&gt;, &lt;a href="http://www.mendeley.com/"&gt;Mendeley&lt;/a&gt;, or another bibliographic content website (most have easy upload/import paths from &lt;a href="http://en.wikipedia.org/wiki/EndNote"&gt;Endnote&lt;/a&gt;, and other citation management applications). Hosting a copy yourself is fine, but giving it to a third party demonstrates your bona fides, gets it out of your nifty but restrictive search engine or database, and increments your bus number.&lt;/li&gt;&lt;li&gt;Release it under a Creative Commons &lt;a href="http://creativecommons.org/about/pdm"&gt;Public Domain Mark&lt;/a&gt; or &lt;a href="http://creativecommons.org/about/cc0"&gt;Public Domain Dedication (CC0)&lt;/a&gt;. Â Or if you can't do that, find as open a &lt;a href="http://creativecommons.org/"&gt;Creative Commons&lt;/a&gt; or &lt;a href="http://en.wikipedia.org/wiki/Open_content#Licenses"&gt;similar license&lt;/a&gt; as you can. Don't try to control it. If there's some aspect of the data that you can't (because of rights encumberance) or don't want to (why?) give away to make the world a better place, find a quick way to extract, filter, or excerpt that aspect and get the rest out.&lt;/li&gt;&lt;li&gt;Alert the world to your philanthropy. Blog or tweet about it. Post a link to the data on your institutional website. Above all, alert &lt;a href="http://isaw.nyu.edu/people/staff/chuck-jones"&gt;Chuck Jones&lt;/a&gt; and Phoebe Acheson so it gets announced via &lt;a href="http://ancientworldonline.blogspot.com/"&gt;Ancient World Online&lt;/a&gt; and/or &lt;a href="http://ancientbiblio.wordpress.com/"&gt;Ancient World Open Bibliographies&lt;/a&gt;.&lt;/li&gt;&lt;li&gt;Do the same if you have other useful data, like identifiers for modern or ancient works or authors.&lt;/li&gt;&lt;li&gt;Get in touch with me and/or anyone else to talk about the next step: setting up stable HTTP URIs corresponding to this stuff.&lt;/li&gt;&lt;/ol&gt;&lt;b&gt;Who I'm Talking To&lt;/b&gt;&lt;br&gt;&lt;br&gt;First of all, I'm talking to myself, my collaborators, and my team-mates at ISAW. I intend to eat my own dogfood.&lt;br&gt;&lt;br&gt;Here are other institutions and entities I know about who have potentially useful data.&lt;br&gt;&lt;ul&gt;&lt;li&gt;The &lt;a href="http://openlibrary.org/"&gt;Open Library&lt;/a&gt; : data about books is already out there and available, and there are ways to add more&lt;/li&gt;&lt;li&gt;&lt;a href="http://www.perseus.tufts.edu/"&gt;Perseus Project&lt;/a&gt; : a huge, FRBR-ized collection of MODS records for Greek and Latin authors, works, and modern editions thereof.&lt;/li&gt;&lt;li&gt;&lt;a href="http://chs.harvard.edu/chs"&gt;Center for Hellenic Studies&lt;/a&gt;: identifiers for Greek and Latin authors and works&lt;/li&gt;&lt;li&gt;&lt;a href="http://www.annee-philologique.com/"&gt;L'AnnÃ©e Philologique&lt;/a&gt; and its institutional partners like the &lt;a href="http://www.apaclassics.org/"&gt;American Philological Association&lt;/a&gt;: the big collection of analytic secondary bibliography for classics (journal articles)&lt;/li&gt;&lt;li&gt;&lt;a href="http://projects.chass.utoronto.ca/amphoras/tocs.html"&gt;TOCS-IN&lt;/a&gt;: a collaboratively collected batch of analytic secondary bibliography for classics&lt;/li&gt;&lt;li&gt;&lt;a href="http://papyri.info/"&gt;Papyri.info&lt;/a&gt; and its contributing project partners: TEI bibliographic records for Â much of the bibliography produced for or cited by Greek and Latin papyrologists (plus other ancient language/script traditions in papyrology)&lt;/li&gt;&lt;li&gt;&lt;a href="http://www.gnomon-online.de/"&gt;Gnomon Bibliographische Datenbank&lt;/a&gt;: masses of bibliographic data for books and articles for classics&lt;/li&gt;&lt;li&gt;Any and every university library system that has a dedicated or easily extracted set of associated catalog records. Especially any with unique collections (e.g.,Â Cincinnati) or those with databases of analytical bibliography down to the level of articles in journals and collections.&lt;/li&gt;&lt;li&gt;Ditto any and every ancient studies digital project that has bibliographic data in a database.&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;b&gt;Comments, Reactions, Suggestions&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Welcome, encouraged, and essential. By comment here or otherwise (but not private email please!).&lt;/div&gt;</description><category>backstop</category><category>bibliography</category><category>books</category><category>boundaries</category><category>collaboration</category><category>concordia</category><category>digclass</category><category>horothesia</category><category>interop</category><category>isaw</category><category>lawdi</category><category>linkeddata</category><category>openness</category><category>rights</category><category>walled gardens</category><category>zotero</category><guid>https://paregorios.org/posts/2012/06/ancient-studies-needs-open/</guid><pubDate>Fri, 01 Jun 2012 19:03:00 GMT</pubDate></item><item><title>Give Me the Zotero Item Keys!</title><link>https://paregorios.org/posts/2012/02/give-me-zotero-item-keys/</link><dc:creator>Tom Elliott</dc:creator><description>&lt;i&gt;I fear and hope that this post will cause someone smarter than me to pipe up and say UR DOIN IT WRONG ITZ EZ LYK DIS ...&lt;/i&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Here's the use case:&lt;/b&gt;&lt;br&gt;&lt;br&gt;The &lt;a href="http://idp.atlantides.org/"&gt;Integrating Digital Papyrology project&lt;/a&gt; (and friends) have a &lt;a href="http://www.zotero.org/groups/papyrology"&gt;Zotero group library&lt;/a&gt; populated with 1,445 bibliographic records that were developed on the basis of an old, built-by-hand &lt;a href="http://library.duke.edu/rubenstein/scriptorium/papyrus/texts/clist.html"&gt;Checklist of Editions of Greek and Latin Papyri (etc.)&lt;/a&gt;. A lot of checking and improving was done to the data in Zotero.&lt;br&gt;&lt;br&gt;Separately, there's now a much larger pile of bibliographic records related to papyrology that were collected (on different criteria) by the &lt;a href="http://www.ulb.ac.be/philo/cpeg/bp.htm"&gt;&lt;i&gt;Bibliographie Papyrologique&lt;/i&gt;&lt;/a&gt; project. They have been machine-converted (into &lt;a href="http://www.tei-c.org/"&gt;TEI&lt;/a&gt; document fragments) from a &lt;i&gt;sui generis&lt;/i&gt; Filemaker Pro database and are now &lt;a href="http://papyri.info/bibliosearch"&gt;hosted via papyri.info&lt;/a&gt;Â (&lt;a href="https://github.com/papyri/idp.data/tree/master/Biblio"&gt;the raw data is on github&lt;/a&gt;).&lt;br&gt;&lt;br&gt;There is considerable overlap between these two datasets, but also signifcant divergeance. We want to merge "matching" records in a carefully supervised way, making sure not to lose any of the extra goodness that BP adds to the data but taking full advantage of the corrections and improvements that were done to the Checklist data.&lt;br&gt;&lt;br&gt;We started by doing an export-to-RDF of the Zotero data and, as a first step, that was banged up (programmatically) against the TEI data on the basis of titles. Probable matches were hand-checked and a resulting pairing of papyri.info bibliographic ID numbers against Zotero short titles was produced. You can see &lt;a href="http://idp.atlantides.org/biblio-matching/matches-2012-02.xml"&gt;the resulting XML here&lt;/a&gt;.&lt;br&gt;&lt;br&gt;&lt;i&gt;I should point out that almost everything up to here including the creation and improvement of the data, as well as anything below regarding the bibliography in papyri.info, is the work of others. Those others include Gabriel Bodard, Hugh Cayless, James Cowey, Carmen Lantz, Adam Prins, Josh Sosin, and Jen Thum. And the BP team. And probably others I'm forgetting at the moment or who have labored out of my sight. I erect this shambles of a lean-to on the shoulders of giants.&lt;/i&gt;&lt;br&gt;&lt;br&gt;To guide the work of our bibliographic researchers in analyzing the matched records, I wanted to create an HTML file that looks like this:&lt;br&gt;&lt;blockquote class="tr_bq"&gt;&lt;ul&gt;&lt;li&gt;&lt;b style="font-family: 'Courier New', Courier, monospace; font-size: small;"&gt;Checklist Short Title = Papyri.info ID number and Full Title String&lt;/b&gt;&lt;/li&gt;&lt;li&gt;&lt;span style="font-family: 'Courier New', Courier, monospace; font-size: x-small;"&gt;BGU 10 = PI idno 7513: Papyrusurkunden aus ptolemÃ¤ischer Zeit. (Ãgyptische Urkunden aus den Staatlichen Museen zu Berlin. Griechische Urkunden. X. Band.)&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style="font-family: 'Courier New', Courier, monospace; font-size: x-small;"&gt;etc.&lt;/span&gt;Â &lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;In that list, I wanted items to the left to be linked to the online view of the Zotero record at zotero.org and items on the right linked to the online view of the TEI record at papyri.info. The XML data we got from the initial match process provided the papyri.info bibliographic ID numbers, from which it's easy to construct the corresponding URIs, e.g., &lt;a href="http://papyri.info/biblio/7513"&gt;http://papyri.info/biblio/7513&lt;/a&gt;.&lt;br&gt;&lt;br&gt;But Zotero presented a problem. URIs for bibliographic records in Zotero server use alphanumeric "item keys" like this: CJ3WSG3S (as inÂ &lt;a href="https://www.zotero.org/groups/papyrology/items/itemKey/CJ3WSG3S/"&gt;https://www.zotero.org/groups/papyrology/items/itemKey/CJ3WSG3S/&lt;/a&gt;).&lt;br&gt;&lt;br&gt;&lt;b&gt;That item key string is not, to my knowledge, included in any of the export formats produced by the Zotero desktop client, nor is it surfaced in its interface (argh).&lt;/b&gt; It appears possible to hunt them down programmatically via the &lt;a href="http://www.zotero.org/support/dev/server_api/read_api"&gt;Zotero Read API&lt;/a&gt;, though I haven't tried it for reasons that will be explained shortly. It is certainly possible to hunt for them manually via the web interface, but I'm not going to try that for more than about 3 records.&lt;br&gt;&lt;br&gt;&lt;b&gt;How I got the Zotero item keys&lt;/b&gt;&lt;br&gt;&lt;br&gt;So, I have two choices at this point: write some code to automate hunting the item keys via the Zotero Read API or crack open the Zotero &lt;a href="http://www.sqlite.org/"&gt;SQLLite&lt;/a&gt; database on my local client and see if the item keys are lurking in there too. Since I'm on a newish laptop on which I hadn't yet installed &lt;a href="http://itunes.apple.com/us/app/xcode/id448457090?mt=12"&gt;XCode&lt;/a&gt;, which seems to be a prerequisite to installing support for a &lt;a href="http://www.python.org/dev/peps/pep-0405/"&gt;Python virtual environment&lt;/a&gt;, which is the preferred way to get &lt;a href="http://www.pip-installer.org/en/latest/installing.html"&gt;pip&lt;/a&gt;, which is the preferred install prerequisite for &lt;a href="https://github.com/urschrei/pyzotero"&gt;pyzotero&lt;/a&gt;, which is the python wrapper for the Zotero API, I had to make some choices about which yaks to shave.&lt;br&gt;&lt;br&gt;I decided to start the (notoriously slow) XCode download yak and then have a go at the SQLLite yak while that was going on.&lt;br&gt;&lt;br&gt;I grabbed the trial version of &lt;a href="http://www.razorsql.com/"&gt;RazorSQL&lt;/a&gt;Â (which looked like a good shortcut after a few minutes of Googling), made a copy of my Zotero database, and started poking around. I thought about looking for detailed documentation (&lt;a href="http://www.zotero.org/support/zotero_data"&gt;starting here I guess&lt;/a&gt;), but direct inspection started yielding results so I just kept going commando-style. It became clear at once that I wasn't going to find a single table containing my bibliographic entries. The Zotero client database is all normalized and modularized and stuff. So I viewed table columns and table contents as necessary and started building a SQL query to get at what I wanted. Here's what ultimately worked:&lt;br&gt;&lt;br&gt;&lt;pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"&gt;&lt;code&gt;SELECT itemDataValues.value, items.key FROM items &lt;br&gt;INNER JOIN libraries ON items.libraryID = libraries.libraryID&lt;br&gt;INNER JOIN groups ON libraries.libraryID = groups.libraryID&lt;br&gt;INNER JOIN itemData ON items.itemID = itemData.itemID&lt;br&gt;INNER JOIN itemDataValues ON itemData.valueID = itemDataValues.valueID&lt;br&gt;INNER JOIN fields ON itemData.fieldID = fields.fieldID&lt;br&gt;WHERE groups.name= "Papyrology" AND fields.fieldID=116&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br&gt;The SELECT statement gets me two values for each match dredged up by the rest of the query: a value stored in the itemDataValues table and a key stored in the items table. The various JOINs are used to get us close to the specific value (i.e., a short title) that we want. 116 in the fieldID field of the fields table corresponds to the short title field you see in your Zotero client. I found that out by inspecting the fields table; I could have used more JOINs to be able to use the string "shortTitle" in my WHERE clause, but that would have just taken more time.&lt;br&gt;&lt;br&gt;The results of that query against my database looked like this:&lt;br&gt;&lt;br&gt;&lt;pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"&gt;&lt;code&gt;P.Cair.Preis.    2245UKTH&lt;br&gt;CPR 18           26K8TAJT&lt;br&gt;P.Bodm. 28       282XKDE9&lt;br&gt;P.Gebelen        29ETKPXC&lt;br&gt;O.Krok           2BBMS7NS&lt;br&gt;P.Carlsb. 5      2D2ZNT4C&lt;br&gt;P.Mich.Aphrod.   2DTD2NIZ&lt;br&gt;P.Carlsb. 9      2FWF6T6I&lt;br&gt;P.Col. 1         2G4CF756&lt;br&gt;P.Lond.Copt. 2   2GAEU5QP&lt;br&gt;P.Harr. 1        2GCCNGJV&lt;br&gt;O.Deir el-Bahari 2GH3FEA2&lt;br&gt;P.Harrauer       2H3T6EU2&lt;br&gt;(etc).&lt;/code&gt;&lt;/pre&gt;&lt;br&gt;So, copy that tabular result out of the RazorSQL GUI, paste it into a new &lt;a href="http://www.libreoffice.org/"&gt;LibreOffice&lt;/a&gt; spreadsheet and save it and I've got &lt;a href="http://idp.atlantides.org/biblio-matching/zdump-content.xml"&gt;an XML file&lt;/a&gt; that I can dip into from &lt;a href="http://idp.atlantides.org/biblio-matching/matches2html.xsl"&gt;the XSLT I had already started on&lt;/a&gt; to produce my HTML view.&lt;br&gt;&lt;br&gt;&lt;a href="http://idp.atlantides.org/biblio-matching/matches-2012-02.html"&gt;Here's the resulting HTML file&lt;/a&gt;.&lt;br&gt;&lt;br&gt;On we go.&lt;br&gt;&lt;br&gt;&lt;i&gt;Oh, and for those paying attention to such things, XCode finished downloading about two-thirds of the way through this process ...&lt;/i&gt;</description><category>bibliography</category><category>horothesia</category><category>papyrology</category><category>tei</category><category>xml</category><category>xslt</category><category>yaks</category><category>zotero</category><guid>https://paregorios.org/posts/2012/02/give-me-zotero-item-keys/</guid><pubDate>Sat, 11 Feb 2012 04:04:00 GMT</pubDate></item><item><title>Bridging Institutional Repository and Bibliographic Management</title><link>https://paregorios.org/posts/2009/11/bridging-institutional-repository-and/</link><dc:creator>Tom Elliott</dc:creator><description>&lt;p&gt;As an institution, &lt;a href="http://www.nyu.edu/isaw/"&gt;ISAW&lt;/a&gt; has an interest in disseminating, preserving and promoting the research products and publications of its faculty, research staff, students, affiliates and collaborators. Our parent institution, &lt;a href="http://www.nyu.edu"&gt;NYU&lt;/a&gt;, has made a commitment to the persistent dissemination of such materials when voluntarily contributed to its &lt;a href="http://archive.nyu.edu/"&gt;Faculty Digital Archive (FDA)&lt;/a&gt;. We'll use the FDA as a locus for materials that fit well into &lt;a href="http://www.dspace.org/"&gt;DSpace&lt;/a&gt; (with which the FDA is realized) and that aren't rights-constrained. But we also need mechanisms for developing and publishing the whole bibliographic story of a particular faculty member, research group, project or conference with links from the individual entries to digital copies wherever they may be (e.g., the FDA, &lt;a href="http://www.jstor.org/"&gt;JSTOR&lt;/a&gt;, &lt;a href="http://www.archive.org/"&gt;Internet Archive&lt;/a&gt;, &lt;a href="http://books.google.com/"&gt;Google Books&lt;/a&gt;). For this function, we like &lt;a href="http://www.zotero.org/"&gt;Zotero&lt;/a&gt;. Atop &lt;a href="http://www.zotero.org/blog/follow-libraries-and-collections-with-feeds/"&gt;Zotero's robust and ubiquitous feed documents&lt;/a&gt;, we can build interoperability with our website and other tools and venues in a way that is also completely visible to commercial and third-party search and discovery tools.&lt;br&gt;&lt;br&gt;There will be a number of iterations necessary to reach a fully robust solution, but we're already taking some of the first steps.&lt;br&gt;&lt;br&gt;As an early experiment with the FDA, we had a student assistant input all of &lt;a href="http://en.wikipedia.org/wiki/Roger_S._Bagnall"&gt;my boss&lt;/a&gt;'s articles in PDF format, along with descriptive metadata (see: &lt;a href="http://archive.nyu.edu/handle/2451/28115"&gt;Roger Bagnall's Publications&lt;/a&gt;). The default metadata schema in the FDA wasn't a perfect fit for journal article citations, but the FDA staff is now working with us to extend the schema to meet our needs.  We're using the Zotero data model as a guide.&lt;br&gt;&lt;br&gt;Given that the metadata in this collection is the only structured dataset around for Roger's articles, I wanted to be able to get it all back out to use for other things. The FDA does provide web feeds, but (unlike Zotero) these aren't comprehensive for a given context and don't incorporate all the metadata fields. But we can use FDA's &lt;a href="http://www.openarchives.org/pmh/"&gt;OAI-PMH&lt;/a&gt; interface to get the full metadata with a query like:&lt;br&gt;&lt;br&gt;&lt;a href="http://archive.nyu.edu/request?verb=ListRecords&amp;amp;metadataPrefix=oai_dc&amp;amp;set=hdl_2451_28115"&gt;http://archive.nyu.edu/request?verb=ListRecords&amp;amp;metadataPrefix=oai_dc&amp;amp;set=hdl_2451_28115&lt;/a&gt;&lt;br&gt;&lt;br&gt;where "hdl_2451_28115" is the identifier for the "Roger Bagnall's Publications" container I linked to above. (Special thanks to Ekaterina Pechekhonova on the NYU Digital Library team, who helped me with syntax).&lt;br&gt;&lt;br&gt;As a further experiment, I wrote an &lt;a href="http://homepages.nyu.edu/%7Ete20/examples/fda-zotero/fdaoai2zoterordf.xsl"&gt;XSL transform to convert the OAI-PMH XML&lt;/a&gt; document into the &lt;a href="http://homepages.nyu.edu/%7Ete20/examples/fda-zotero/bagnall-fda.rdf"&gt;RDF XML Zotero can import&lt;/a&gt;. There are a couple of inelegant hacks in the transform (mainly to get at substrings within single fields), but I'm still happy with the results. The import into Zotero went smoothly:&lt;br&gt;&lt;br&gt;&lt;a href="http://www.zotero.org/paregorios/items/collection/1505597"&gt;http://www.zotero.org/paregorios/items/collection/1505597&lt;/a&gt;&lt;br&gt;&lt;br&gt;Next steps: move this to a shared Zotero library so Roger, a student assistant and members of our digital projects team can collaborate to enter the rest of the publications (books, book sections, etc.) and fix any errors in the article records. Then we'll look at the process for using that metadata (via another transform) to help us populate the FDA. We'll also start working on parsing and aggregating Zotero's feeds for use on our website (in Roger's online profile and aggregated with other affiliates' feeds to provide a "recent publications" section).&lt;br&gt;&lt;br&gt;We're also experimenting with Zotero for the &lt;a href="http://www.zotero.org/groups/pleiades"&gt;bibliography of our Pleiades project&lt;/a&gt; (a &lt;a href="http://pleiades.stoa.org/"&gt;collaborative online gazetteer of the Greek and Roman world&lt;/a&gt;), and as a component in a potential replacement for the &lt;a href="http://scriptorium.lib.duke.edu/papyrus/texts/clist.html"&gt;Checklist of Editions of Greek, Latin, Demotic and Coptic Papyri, Ostraca and Tablets&lt;/a&gt;. On a more personal level, I've taken to doing all my bookmarking with Zotero and have set up &lt;a href="http://www.zotero.org/paregorios/items/collection/1299262"&gt;a folder in my library&lt;/a&gt; (with associated feed) so that colleagues can following what I'm citing on a daily basis.&lt;/p&gt;</description><category>bibliography</category><category>dspace</category><category>fda</category><category>horothesia</category><category>interop</category><category>isaw</category><category>papyrology</category><category>pleiades</category><category>publications</category><category>tools</category><category>zotero</category><guid>https://paregorios.org/posts/2009/11/bridging-institutional-repository-and/</guid><pubDate>Thu, 19 Nov 2009 21:27:00 GMT</pubDate></item></channel></rss>