<html><body><p>I made a couple of bad assumptions in <a href="http://horothesia.blogspot.com/2014/04/mining-awol-for-identifiers.html">my previous attempt to mine ISSNs</a> out of the content of the <a href="http://ancientworldonline.blogspot.com/">AWOL Blog</a>:<br></p><ol><li>I assumed that the string "ISSN" would always appear in all caps.</li><li>I assumed that the string "ISSN" would be followed immediately by a colon (:).</li></ol>In fact, the following command indicates there are at least 673 posts containing instances of the string (ignoring capitalization) "issn" in the AWOL content:<br><blockquote class="tr_bq"><span style='font-family: "Courier New",Courier,monospace;'>ack -hilo issn  post-*.xml | wc -l</span></blockquote> In an attempt to make sure we're capturing real ISSN strings, I refined the regular expression to try to capture a leading "ISSN" string, and then everything possibly following until and including a properly formatted ISSN number. I've seen both ####-#### and ########, (where # is either a digit or the character "X") in the wild, so I accommodated both possibilities. Here's the command:<br><blockquote class="tr_bq"><span style='font-family: "Courier New",Courier,monospace;'>ack -hio 'issn[^\d]*[\dX]{4}-?[\dX]{4}' post-*.xml &gt; issn-raw.txt</span></blockquote><a href="https://github.com/paregorios/awol-acronyms/blob/master/issn-raw.txt">You can see the raw list of the matched strings here</a>. If we count the lines generated by that command instead of saving them to file, we can see that there are at least 1931 ISSNs in AWOL.<br><blockquote class="tr_bq"><span style='font-family: "Courier New",Courier,monospace;'>ack -hio 'issn[^\d]*[\dX]{4}-?[\dX]{4}' post-*.xml | wc -l</span></blockquote>Then I wondered, are we getting just one ISSN per file or multiples? We know that some of  the posts in the blog are about single resources, but there are also  plenty of posts about collections and also posts that gather up all the  references to every known instance of a particular genre (e.g.,  open-access journals or journals in JSTOR). So I modified the command to count how many files have these "well-formed" ISSN strings in them (the -l option to ack):<br><blockquote class="tr_bq"><span style='font-family: "Courier New",Courier,monospace;'>ack -hilo 'issn[^\d]*[\dX]{4}-?[\dX]{4}' post-*.xml | wc -l</span></blockquote>For a total of 638 affected files. <a href="https://github.com/paregorios/awol-acronyms/blob/master/issn-files.txt">Here's a list of the affected files</a>, for future team reference.<br><br>One wonders about the discrepancy between 638 and 673, but at least I know I now have a regular expression that can capture most of the ISSNs and their values. I'll do some spot-checking later to see if I can figure out what's being missed and why.<br><br>More importantly, it's now very clear that mining the ISSNs out of the blog posts on our way to <a href="http://zotero.org/">Zotero</a> is a worthwhile task. Not only will we be able to add them to the records, we may also be able to use them to look up existing catalog data from other databases with which to better populate the fields in the corresponding Zotero records.<br><br><br><br><br></body></html>